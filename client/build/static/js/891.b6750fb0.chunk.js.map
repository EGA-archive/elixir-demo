{"version":3,"file":"static/js/891.b6750fb0.chunk.js","mappings":"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","sources":["components/results/modal/ResultsTableModalRow.js","../node_modules/@mui/material/esm/ListItemText/ListItemText.js","../node_modules/@mui/icons-material/esm/SearchRounded.js","../node_modules/@mui/icons-material/esm/DownloadRounded.js","../node_modules/@mui/icons-material/esm/KeyboardArrowDownRounded.js","assets/logos/SelectColumn.svg","components/results/modal/ResultsTableToolbar.js","components/results/modal/formatters/molecularAttributesFormatter.js","components/results/utils/tableHelpers.js","components/results/modal/formatters/measuresFormatter.js","components/results/modal/formatters/infoFormatter.js","components/results/modal/formatters/interventionsOrProceduresFormatter.js","components/results/modal/formatters/variationFormatter.js","components/results/modal/formatters/caseLevelDataFormatter.js","components/results/modal/cellRenderers/InterventionsOrProceduresCell.js","components/results/modal/cellRenderers/MeasuresCell.js","components/results/modal/cellRenderers/InfoCell.js","components/results/modal/cellRenderers/MolecularAttributesCell.js","components/results/modal/cellRenderers/VariationCell.js","components/results/modal/cellRenderers/CaseLevelDataCell.js","components/results/modal/ResultsTableModalBody.js","components/results/utils/exportCSV.js","components/results/modal/ResultsTableModal.js"],"sourcesContent":["import { Box, TableCell, TableRow } from \"@mui/material\";\n\nconst ResultsTableModalRow = ({ item }) => {\n  const itemRow = item.results;\n\n  return (\n    <TableRow key={`modal-row-${item.id}`}>\n      <TableCell\n        colSpan={5}\n        sx={{\n          backgroundColor: \"background.paper\",\n          borderTop: \"1px solid\",\n          borderColor: \"divider\",\n          p: 2,\n        }}\n      >\n        <Box>\n          <Typography variant=\"body2\" color=\"textSecondary\">\n            {itemRow?.description || \"No description available\"}\n          </Typography>\n        </Box>\n      </TableCell>\n    </TableRow>\n  );\n};\n\nexport default ResultsTableModalRow;\n","'use client';\n\nimport * as React from 'react';\nimport PropTypes from 'prop-types';\nimport clsx from 'clsx';\nimport composeClasses from '@mui/utils/composeClasses';\nimport Typography, { typographyClasses } from \"../Typography/index.js\";\nimport ListContext from \"../List/ListContext.js\";\nimport { styled } from \"../zero-styled/index.js\";\nimport { useDefaultProps } from \"../DefaultPropsProvider/index.js\";\nimport listItemTextClasses, { getListItemTextUtilityClass } from \"./listItemTextClasses.js\";\nimport useSlot from \"../utils/useSlot.js\";\nimport { jsx as _jsx, jsxs as _jsxs } from \"react/jsx-runtime\";\nconst useUtilityClasses = ownerState => {\n  const {\n    classes,\n    inset,\n    primary,\n    secondary,\n    dense\n  } = ownerState;\n  const slots = {\n    root: ['root', inset && 'inset', dense && 'dense', primary && secondary && 'multiline'],\n    primary: ['primary'],\n    secondary: ['secondary']\n  };\n  return composeClasses(slots, getListItemTextUtilityClass, classes);\n};\nconst ListItemTextRoot = styled('div', {\n  name: 'MuiListItemText',\n  slot: 'Root',\n  overridesResolver: (props, styles) => {\n    const {\n      ownerState\n    } = props;\n    return [{\n      [`& .${listItemTextClasses.primary}`]: styles.primary\n    }, {\n      [`& .${listItemTextClasses.secondary}`]: styles.secondary\n    }, styles.root, ownerState.inset && styles.inset, ownerState.primary && ownerState.secondary && styles.multiline, ownerState.dense && styles.dense];\n  }\n})({\n  flex: '1 1 auto',\n  minWidth: 0,\n  marginTop: 4,\n  marginBottom: 4,\n  [`.${typographyClasses.root}:where(& .${listItemTextClasses.primary})`]: {\n    display: 'block'\n  },\n  [`.${typographyClasses.root}:where(& .${listItemTextClasses.secondary})`]: {\n    display: 'block'\n  },\n  variants: [{\n    props: ({\n      ownerState\n    }) => ownerState.primary && ownerState.secondary,\n    style: {\n      marginTop: 6,\n      marginBottom: 6\n    }\n  }, {\n    props: ({\n      ownerState\n    }) => ownerState.inset,\n    style: {\n      paddingLeft: 56\n    }\n  }]\n});\nconst ListItemText = /*#__PURE__*/React.forwardRef(function ListItemText(inProps, ref) {\n  const props = useDefaultProps({\n    props: inProps,\n    name: 'MuiListItemText'\n  });\n  const {\n    children,\n    className,\n    disableTypography = false,\n    inset = false,\n    primary: primaryProp,\n    primaryTypographyProps,\n    secondary: secondaryProp,\n    secondaryTypographyProps,\n    slots = {},\n    slotProps = {},\n    ...other\n  } = props;\n  const {\n    dense\n  } = React.useContext(ListContext);\n  let primary = primaryProp != null ? primaryProp : children;\n  let secondary = secondaryProp;\n  const ownerState = {\n    ...props,\n    disableTypography,\n    inset,\n    primary: !!primary,\n    secondary: !!secondary,\n    dense\n  };\n  const classes = useUtilityClasses(ownerState);\n  const externalForwardedProps = {\n    slots,\n    slotProps: {\n      primary: primaryTypographyProps,\n      secondary: secondaryTypographyProps,\n      ...slotProps\n    }\n  };\n  const [RootSlot, rootSlotProps] = useSlot('root', {\n    className: clsx(classes.root, className),\n    elementType: ListItemTextRoot,\n    externalForwardedProps: {\n      ...externalForwardedProps,\n      ...other\n    },\n    ownerState,\n    ref\n  });\n  const [PrimarySlot, primarySlotProps] = useSlot('primary', {\n    className: classes.primary,\n    elementType: Typography,\n    externalForwardedProps,\n    ownerState\n  });\n  const [SecondarySlot, secondarySlotProps] = useSlot('secondary', {\n    className: classes.secondary,\n    elementType: Typography,\n    externalForwardedProps,\n    ownerState\n  });\n  if (primary != null && primary.type !== Typography && !disableTypography) {\n    primary = /*#__PURE__*/_jsx(PrimarySlot, {\n      variant: dense ? 'body2' : 'body1',\n      component: primarySlotProps?.variant ? undefined : 'span',\n      ...primarySlotProps,\n      children: primary\n    });\n  }\n  if (secondary != null && secondary.type !== Typography && !disableTypography) {\n    secondary = /*#__PURE__*/_jsx(SecondarySlot, {\n      variant: \"body2\",\n      color: \"textSecondary\",\n      ...secondarySlotProps,\n      children: secondary\n    });\n  }\n  return /*#__PURE__*/_jsxs(RootSlot, {\n    ...rootSlotProps,\n    children: [primary, secondary]\n  });\n});\nprocess.env.NODE_ENV !== \"production\" ? ListItemText.propTypes /* remove-proptypes */ = {\n  // ┌────────────────────────────── Warning ──────────────────────────────┐\n  // │ These PropTypes are generated from the TypeScript type definitions. │\n  // │    To update them, edit the d.ts file and run `pnpm proptypes`.     │\n  // └─────────────────────────────────────────────────────────────────────┘\n  /**\n   * Alias for the `primary` prop.\n   */\n  children: PropTypes.node,\n  /**\n   * Override or extend the styles applied to the component.\n   */\n  classes: PropTypes.object,\n  /**\n   * @ignore\n   */\n  className: PropTypes.string,\n  /**\n   * If `true`, the children won't be wrapped by a Typography component.\n   * This can be useful to render an alternative Typography variant by wrapping\n   * the `children` (or `primary`) text, and optional `secondary` text\n   * with the Typography component.\n   * @default false\n   */\n  disableTypography: PropTypes.bool,\n  /**\n   * If `true`, the children are indented.\n   * This should be used if there is no left avatar or left icon.\n   * @default false\n   */\n  inset: PropTypes.bool,\n  /**\n   * The main content element.\n   */\n  primary: PropTypes.node,\n  /**\n   * These props will be forwarded to the primary typography component\n   * (as long as disableTypography is not `true`).\n   * @deprecated Use `slotProps.primary` instead. This prop will be removed in a future major release. See [Migrating from deprecated APIs](/material-ui/migration/migrating-from-deprecated-apis/) for more details.\n   */\n  primaryTypographyProps: PropTypes.object,\n  /**\n   * The secondary content element.\n   */\n  secondary: PropTypes.node,\n  /**\n   * These props will be forwarded to the secondary typography component\n   * (as long as disableTypography is not `true`).\n   * @deprecated Use `slotProps.secondary` instead. This prop will be removed in a future major release. See [Migrating from deprecated APIs](/material-ui/migration/migrating-from-deprecated-apis/) for more details.\n   */\n  secondaryTypographyProps: PropTypes.object,\n  /**\n   * The props used for each slot inside.\n   * @default {}\n   */\n  slotProps: PropTypes.shape({\n    primary: PropTypes.oneOfType([PropTypes.func, PropTypes.object]),\n    root: PropTypes.oneOfType([PropTypes.func, PropTypes.object]),\n    secondary: PropTypes.oneOfType([PropTypes.func, PropTypes.object])\n  }),\n  /**\n   * The components used for each slot inside.\n   * @default {}\n   */\n  slots: PropTypes.shape({\n    primary: PropTypes.elementType,\n    root: PropTypes.elementType,\n    secondary: PropTypes.elementType\n  }),\n  /**\n   * The system prop that allows defining system overrides as well as additional CSS styles.\n   */\n  sx: PropTypes.oneOfType([PropTypes.arrayOf(PropTypes.oneOfType([PropTypes.func, PropTypes.object, PropTypes.bool])), PropTypes.func, PropTypes.object])\n} : void 0;\nexport default ListItemText;","\"use client\";\n\nimport createSvgIcon from \"./utils/createSvgIcon.js\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nexport default createSvgIcon(/*#__PURE__*/_jsx(\"path\", {\n  d: \"M15.5 14h-.79l-.28-.27c1.2-1.4 1.82-3.31 1.48-5.34-.47-2.78-2.79-5-5.59-5.34-4.23-.52-7.79 3.04-7.27 7.27.34 2.8 2.56 5.12 5.34 5.59 2.03.34 3.94-.28 5.34-1.48l.27.28v.79l4.25 4.25c.41.41 1.08.41 1.49 0s.41-1.08 0-1.49zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14\"\n}), 'SearchRounded');","\"use client\";\n\nimport createSvgIcon from \"./utils/createSvgIcon.js\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nexport default createSvgIcon(/*#__PURE__*/_jsx(\"path\", {\n  d: \"M16.59 9H15V4c0-.55-.45-1-1-1h-4c-.55 0-1 .45-1 1v5H7.41c-.89 0-1.34 1.08-.71 1.71l4.59 4.59c.39.39 1.02.39 1.41 0l4.59-4.59c.63-.63.19-1.71-.7-1.71M5 19c0 .55.45 1 1 1h12c.55 0 1-.45 1-1s-.45-1-1-1H6c-.55 0-1 .45-1 1\"\n}), 'DownloadRounded');","\"use client\";\n\nimport createSvgIcon from \"./utils/createSvgIcon.js\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nexport default createSvgIcon(/*#__PURE__*/_jsx(\"path\", {\n  d: \"M8.12 9.29 12 13.17l3.88-3.88c.39-.39 1.02-.39 1.41 0s.39 1.02 0 1.41l-4.59 4.59c-.39.39-1.02.39-1.41 0L6.7 10.7a.996.996 0 0 1 0-1.41c.39-.38 1.03-.39 1.42 0\"\n}), 'KeyboardArrowDownRounded');","var _g, _defs;\nfunction _extends() { return _extends = Object.assign ? Object.assign.bind() : function (n) { for (var e = 1; e < arguments.length; e++) { var t = arguments[e]; for (var r in t) ({}).hasOwnProperty.call(t, r) && (n[r] = t[r]); } return n; }, _extends.apply(null, arguments); }\nimport * as React from \"react\";\nfunction SvgSelectColumn(_ref, svgRef) {\n  let {\n    title,\n    titleId,\n    ...props\n  } = _ref;\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 24,\n    height: 18,\n    viewBox: \"0 0 24 18\",\n    fill: \"none\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _g || (_g = /*#__PURE__*/React.createElement(\"g\", {\n    clipPath: \"url(#clip0_4284_16283)\"\n  }, /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M17 16.5L17 1.5M11.5 16.5L11.5 1.5M6 16.5L6 1.5\",\n    stroke: \"#023452\",\n    strokeWidth: 2.5,\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\"\n  }))), _defs || (_defs = /*#__PURE__*/React.createElement(\"defs\", null, /*#__PURE__*/React.createElement(\"clipPath\", {\n    id: \"clip0_4284_16283\"\n  }, /*#__PURE__*/React.createElement(\"rect\", {\n    width: 18,\n    height: 24,\n    fill: \"white\",\n    transform: \"translate(7.86805e-07 18) rotate(-90)\"\n  })))));\n}\nconst ForwardRef = /*#__PURE__*/React.forwardRef(SvgSelectColumn);\nexport default __webpack_public_path__ + \"static/media/SelectColumn.ef53a3841717fb6e9fb4ddb26e7aa5c3.svg\";\nexport { ForwardRef as ReactComponent };","import {\n  Box,\n  Button,\n  FormControl,\n  Select,\n  MenuItem,\n  Checkbox,\n  ListItemText,\n  TextField,\n  InputAdornment,\n} from \"@mui/material\";\nimport SearchRoundedIcon from \"@mui/icons-material/SearchRounded\";\nimport DownloadRoundedIcon from \"@mui/icons-material/DownloadRounded\";\nimport KeyboardArrowDownRoundedIcon from \"@mui/icons-material/KeyboardArrowDownRounded\";\nimport config from \"../../../config/config.json\";\nimport { useSelectedEntry } from \"../../../components/context/SelectedEntryContext\";\nimport { ReactComponent as SelectColumn } from \"../../../assets/logos/SelectColumn.svg\";\n\n/**\n * Toolbar for the Results Table, it contains:\n * 1. Export CSV button\n * 2. Column visibility selector\n * 3. Keyword search input\n */\nexport default function ResultsTableToolbar({\n  visibleColumns,\n  setVisibleColumns,\n  searchTerm,\n  setSearchTerm,\n  sortedHeaders,\n  count,\n  handleExport,\n}) {\n  const { responseMeta } = useSelectedEntry();\n  const colors = config.ui.colors;\n\n  const limit = responseMeta?.receivedRequestSummary?.pagination?.limit;\n\n  return (\n    <Box\n      sx={{\n        display: \"flex\",\n        justifyContent: \"space-between\",\n        alignItems: \"center\",\n        my: 2,\n        flexDirection: { xs: \"column\", md: \"row\" },\n        alignItems: { xs: \"flex-start\", md: \"center\" },\n        gap: { xs: 2, md: 0 },\n      }}\n    >\n      <Box\n        sx={{\n          color: colors.darkPrimary,\n          fontSize: \"14px\",\n          display: \"flex\",\n          flexDirection: \"column\",\n          alignItems: \"flex-start\",\n          mt: \"auto\",\n          gap: \"2px\",\n        }}\n      >\n        <Box>\n          <b>Total Results:</b>{\" \"}\n          {count\n            ? new Intl.NumberFormat(navigator.language).format(count)\n            : \"—\"}\n        </Box>\n\n        {count > limit && (\n          <Box>Details returned for the first {limit} records</Box>\n        )}\n      </Box>\n\n      <Box\n        sx={{\n          display: \"flex\",\n          alignItems: \"center\",\n          gap: {\n            xs: 1,\n            sm: 1,\n            md: 2,\n            lg: 3,\n          },\n        }}\n      >\n        <FormControl size=\"small\">\n          <Select\n            multiple\n            displayEmpty\n            value={visibleColumns}\n            onChange={(e) => setVisibleColumns(e.target.value)}\n            renderValue={() => (\n              <Box\n                sx={{\n                  display: \"flex\",\n                  alignItems: \"center\",\n                  gap: 1,\n                }}\n              >\n                <SelectColumn sx={{ color: colors.darkPrimary }} />\n                <span\n                  style={{\n                    color: colors.darkPrimary,\n                    opacity: 1,\n                    fontSize: \"12px\",\n                  }}\n                >\n                  Select column\n                </span>\n              </Box>\n            )}\n            sx={{\n              borderRadius: \"24px\",\n              height: \"40px\",\n              \"& .MuiOutlinedInput-notchedOutline\": {\n                borderColor: colors.darkPrimary,\n              },\n              \"&:hover .MuiOutlinedInput-notchedOutline\": {\n                borderColor: colors.primary,\n              },\n              \"& .MuiSelect-select\": {\n                display: \"flex\",\n                alignItems: \"center\",\n                gap: \"8px\",\n                py: 0.5,\n                width: {\n                  xs: \"120px\",\n                  sm: \"150px\",\n                  md: \"150px\",\n                  lg: \"200px\",\n                },\n                height: \"40px\",\n              },\n            }}\n            IconComponent={KeyboardArrowDownRoundedIcon}\n          >\n            {sortedHeaders.map((col) => (\n              <MenuItem key={col.id} value={col.id}>\n                <Checkbox\n                  size=\"small\"\n                  checked={visibleColumns.indexOf(col.id) > -1}\n                  sx={{\n                    color: colors.darkPrimary,\n                    \"&.Mui-checked\": { color: colors.primary },\n                  }}\n                />\n                <ListItemText\n                  primary={col.name}\n                  primaryTypographyProps={{\n                    sx: { fontSize: \"13px\", color: colors.darkPrimary },\n                  }}\n                />\n              </MenuItem>\n            ))}\n          </Select>\n        </FormControl>\n        <TextField\n          size=\"small\"\n          placeholder=\"Search keywords\"\n          value={searchTerm}\n          onChange={(e) => setSearchTerm(e.target.value)}\n          sx={{\n            width: {\n              xs: \"160px\",\n              sm: \"170px\",\n              md: \"170px\",\n              lg: \"237px\",\n            },\n            \"& .MuiOutlinedInput-root\": {\n              borderRadius: \"24px\",\n              height: \"40px\",\n              \"& fieldset\": { borderColor: colors.darkPrimary },\n              \"&:hover fieldset\": { borderColor: colors.primary },\n              \"& input::placeholder\": {\n                color: colors.darkPrimary,\n                opacity: 1,\n                fontSize: \"12px\",\n              },\n            },\n          }}\n          InputProps={{\n            startAdornment: (\n              <InputAdornment position=\"start\" size=\"small\">\n                <SearchRoundedIcon sx={{ color: colors.darkPrimary }} />\n              </InputAdornment>\n            ),\n          }}\n        />\n\n        <Button\n          variant=\"outlined\"\n          size=\"large\"\n          sx={{\n            px: 2,\n            borderColor: colors.darkPrimary,\n            borderRadius: \"24px\",\n            \"& .MuiButton-startIcon\": {\n              marginLeft: 0,\n              marginRight: 0,\n            },\n          }}\n          // onClick={() => console.log(\"Download clicked\")}\n          onClick={handleExport}\n          startIcon={<DownloadRoundedIcon sx={{ color: colors.darkPrimary }} />}\n        />\n      </Box>\n    </Box>\n  );\n}\n","export function formatMolecularAttributes(value) {\n  if (!value || typeof value !== \"object\") return \"-\";\n\n  const formatLabel = (key) =>\n    key\n      .replace(/([a-z])([A-Z])/g, \"$1 $2\")\n      .replace(/_/g, \" \")\n      .replace(/^./, (c) => c.toUpperCase());\n\n  const renderValue = (val) => {\n    if (!Array.isArray(val)) return null;\n\n    const items = val\n      .map((item) => {\n        if (item == null) return null;\n        if (typeof item === \"object\") {\n          return item.label || item.text || item.id || null;\n        }\n        return String(item);\n      })\n      .filter(Boolean);\n\n    return items.length ? items.join(\", \") : null;\n  };\n\n  const lines = Object.entries(value)\n    .map(([key, val]) => {\n      const rendered = renderValue(val);\n      return rendered ? `${formatLabel(key)}: ${rendered}` : null;\n    })\n    .filter(Boolean);\n\n  return lines.length ? lines.join(\"\\n\") : \"-\";\n}\n","/**\n * Parses and cleans JSON-like string values safely.\n * Returns null if parsing fails.\n */\nexport function cleanAndParseInfo(infoString) {\n  try {\n    if (typeof infoString !== \"string\") return null;\n\n    const cleaned = infoString.replace(/\"|\"/g, '\"');\n    return JSON.parse(cleaned);\n  } catch (error) {\n    return null;\n  }\n}\n\nimport { formatMeasures } from \"../modal/formatters/measuresFormatter\";\nimport { formatInfo } from \"../modal/formatters/infoFormatter\";\nimport { formatInterventionsOrProcedures } from \"../modal/formatters/interventionsOrProceduresFormatter\";\nimport { formatMolecularAttributes } from \"../modal/formatters/molecularAttributesFormatter\";\nimport { formatVariation } from \"../modal/formatters/variationFormatter\";\nimport { formatCaseLevelData } from \"../modal/formatters/caseLevelDataFormatter\";\n\n/**\n * Recursively summarizes nested or complex values\n * (arrays, objects, labels, ids) into readable strings for table display.\n */\nexport function summarizeValue(value, field) {\n  if (field === \"measures\") return formatMeasures(value);\n  if (field === \"info\") return formatInfo(value);\n  if (field === \"interventionsOrProcedures\")\n    return formatInterventionsOrProcedures(value);\n  if (field === \"molecularAttributes\") return formatMolecularAttributes(value);\n  if (field === \"variation\") return formatVariation(value);\n  if (field === \"caseLevelData\") return formatCaseLevelData(value);\n\n  if (value == null) return \"-\";\n\n  if (Array.isArray(value)) {\n    return value.map((el) => summarizeValue(el)).join(\", \");\n  }\n\n  if (typeof value === \"object\") {\n    if (value.label) return value.label;\n    if (value.id) return value.id;\n\n    const nestedValues = Object.values(value)\n      .map((v) => summarizeValue(v))\n      .filter(Boolean);\n\n    return nestedValues.length ? nestedValues.join(\", \") : \"-\";\n  }\n\n  if (typeof value === \"string\" || typeof value === \"number\") {\n    return value;\n  }\n\n  return \"-\";\n}\n\n/**\n * Formats camelCase or PascalCase strings into readable labels.\n * Example: \"geographicOrigin\" → \"Geographic Origin\"\n */\nexport function formatHeaderName(header) {\n  const withSpaces = header.replace(/([A-Z])/g, \" $1\");\n  return withSpaces.charAt(0).toUpperCase() + withSpaces.slice(1);\n}\n\n/**\n * Truncates long case-level data to avoid layout issues in the modal table.\n */\nexport function truncateCaseLevelData(value, limit = 20) {\n  if (value == null) {\n    return { entries: [], truncated: false };\n  }\n\n  // Normalize input to array of strings\n  const entries = Array.isArray(value)\n    ? value.map((v) => summarizeValue(v)).filter(Boolean)\n    : [summarizeValue(value)].filter(Boolean);\n\n  if (entries.length <= limit) {\n    return {\n      entries,\n      truncated: false,\n    };\n  }\n\n  return {\n    entries: entries.slice(0, limit),\n    truncated: true,\n    total: entries.length,\n  };\n}\n","export function formatMeasures(value) {\n  if (!Array.isArray(value) || value.length === 0) return \"-\";\n\n  const lines = value\n    .map((measure) => {\n      const label = measure?.assayCode?.label;\n      const rawValue = measure?.measurementValue?.value;\n      const unitLabel = measure?.measurementValue?.unit?.label;\n      const date = measure?.date;\n\n      if (!label || rawValue == null) return null;\n\n      const roundedValue =\n        typeof rawValue === \"number\" ? rawValue.toFixed(2) : rawValue;\n\n      return (\n        `${label}: ${roundedValue}` +\n        (unitLabel ? ` ${unitLabel}` : \"\") +\n        (date ? ` (${date})` : \"\")\n      );\n    })\n    .filter(Boolean);\n\n  return lines.length ? lines.join(\"\\n\") : \"-\";\n}\n","export function formatInfo(value) {\n  if (!value || typeof value !== \"object\") return \"-\";\n\n  const isSkippableKey = (key) => key.toLowerCase().includes(\"ontologyterm\");\n\n  const formatLabel = (key) =>\n    key\n      .replace(/([a-z])([A-Z])/g, \"$1 $2\")\n      .replace(/_/g, \" \")\n      .replace(/^./, (c) => c.toUpperCase());\n\n  const renderInline = (val) => {\n    if (val == null) return null;\n\n    if (typeof val === \"object\") {\n      if (val.label) return val.label;\n      if (val.text) return val.text;\n\n      return Object.entries(val)\n        .filter(([k]) => !isSkippableKey(k))\n        .map(([, v]) => renderInline(v))\n        .filter(Boolean)\n        .join(\", \");\n    }\n\n    return String(val);\n  };\n\n  const renderValue = (val) => {\n    if (Array.isArray(val)) {\n      return val\n        .map((v) => renderValue(v))\n        .filter(Boolean)\n        .join(\"\\n\");\n    }\n\n    if (typeof val === \"object\") {\n      return Object.entries(val)\n        .filter(([k]) => !isSkippableKey(k))\n        .map(([k, v]) => {\n          const rendered = renderInline(v);\n          return rendered ? `${formatLabel(k)}: ${rendered}` : null;\n        })\n        .filter(Boolean)\n        .join(\"\\n\");\n    }\n\n    return String(val);\n  };\n\n  const lines = Object.entries(value)\n    .map(([key, val]) => {\n      const rendered = renderValue(val);\n      if (!rendered) return null;\n\n      if (!rendered.includes(\"\\n\")) {\n        return `${formatLabel(key)}: ${rendered}`;\n      }\n\n      return `${formatLabel(key)}:\\n${rendered}`;\n    })\n    .filter(Boolean);\n\n  return lines.length ? lines.join(\"\\n\") : \"-\";\n}\n","export function formatInterventionsOrProcedures(value) {\n  if (!Array.isArray(value) || value.length === 0) return \"-\";\n\n  const labels = value\n    .map((entry) => entry?.procedureCode?.label)\n    .filter(Boolean);\n\n  if (labels.length === 0) return \"-\";\n\n  return labels.join(\"\\n\");\n}\n","export function formatVariation(value) {\n  if (!value || typeof value !== \"object\") return \"-\";\n\n  const lines = [];\n\n  if (value.location) {\n    const { type, sequence_id, interval } = value.location;\n\n    if (type) {\n      lines.push(`Location type: ${humanize(type)}`);\n    }\n\n    if (sequence_id) {\n      lines.push(`Sequence Id: ${sequence_id}`);\n    }\n\n    if (interval?.start?.value != null && interval?.end?.value != null) {\n      lines.push(\"Sequence interval:\");\n      lines.push(`  Start: ${interval.start.value}`);\n      lines.push(`  End: ${interval.end.value}`);\n    }\n  }\n\n  if (value.alternateBases) {\n    lines.push(`Alternate bases: ${value.alternateBases}`);\n  }\n\n  if (value.referenceBases) {\n    lines.push(`Reference bases: ${value.referenceBases}`);\n  }\n\n  if (value.variantType) {\n    lines.push(`Variant type: ${value.variantType}`);\n  }\n\n  return lines.length ? lines.join(\"\\n\") : \"-\";\n}\n\nfunction humanize(value) {\n  return value.replace(/([a-z])([A-Z])/g, \"$1 $2\");\n}\n","export function formatCaseLevelData(value) {\n  if (!Array.isArray(value) || value.length === 0) return \"-\";\n\n  const lines = value\n    .map((entry) => {\n      const sampleId = entry?.biosampleId;\n      const zygosity = entry?.zygosity?.label;\n      if (!sampleId || !zygosity) return null;\n      return `${sampleId}: ${zygosity}`;\n    })\n    .filter(Boolean);\n\n  return lines.length ? lines.join(\"\\n\") : \"-\";\n}\n","import { Box } from \"@mui/material\";\n\nexport default function InterventionsOrProceduresCell({ value }) {\n  if (!Array.isArray(value) || value.length === 0) {\n    return \"-\";\n  }\n  const labels = value\n    .map((entry) => entry?.procedureCode?.label)\n    .filter(Boolean);\n  if (labels.length === 0) return \"-\";\n  if (labels.length === 1) {\n    return <span>{labels[0]}</span>;\n  }\n  return (\n    <Box component=\"ul\" sx={{ pl: 2, m: 0 }}>\n      {labels.map((label, idx) => (\n        <li key={idx}>{label}</li>\n      ))}\n    </Box>\n  );\n}\n","import { Box } from \"@mui/material\";\n\n/**\n * Renders Measures in a strict, canonical format:\n * - One item → inline\n * - Multiple items → bullet list\n *\n * Format:\n * <b>Assay label</b>: value (2 decimals) unit label (date)\n */\nexport default function MeasuresCell({ value }) {\n  if (!Array.isArray(value) || value.length === 0) return \"-\";\n\n  const formatMeasure = (measure) => {\n    const label = measure?.assayCode?.label;\n    const rawValue = measure?.measurementValue?.value;\n    const unitLabel = measure?.measurementValue?.unit?.label;\n    const date = measure?.date;\n\n    if (!label || rawValue == null) return null;\n\n    const roundedValue =\n      typeof rawValue === \"number\" ? rawValue.toFixed(2) : rawValue;\n\n    return (\n      <>\n        <b>{label}</b>: {roundedValue}\n        {unitLabel ? ` ${unitLabel}` : \"\"}\n        {date ? ` (${date})` : \"\"}\n      </>\n    );\n  };\n\n  // Single measure → no bullets\n  if (value.length === 1) {\n    return <Box>{formatMeasure(value[0])}</Box>;\n  }\n\n  // Multiple measures → bullets\n  return (\n    <Box\n      component=\"ul\"\n      sx={{ m: 0, listStyleType: \"disc\", listStylePosition: \"inside\" }}\n    >\n      {value.map((measure, index) => {\n        const content = formatMeasure(measure);\n        if (!content) return null;\n\n        return <li key={index}>{content}</li>;\n      })}\n    </Box>\n  );\n}\n","import { Box } from \"@mui/material\";\n\n/**\n * Generic renderer for `info` objects.\n * - Skips ontology-only fields\n * - Prefers human-readable text\n * - One value → inline\n * - Multiple values → custom bullets\n * - Safe inside tables\n */\nexport default function InfoCell({ value }) {\n  if (!value || typeof value !== \"object\") return \"-\";\n\n  const isSkippableKey = (key) => key.toLowerCase().includes(\"ontologyTerm\");\n\n  const renderInline = (val) => {\n    if (val == null) return null;\n\n    // Prefer label / text explicitly\n    if (typeof val === \"object\") {\n      if (val.label) return val.label;\n      if (val.text) return val.text;\n\n      return Object.entries(val)\n        .filter(([k]) => !isSkippableKey(k))\n        .map(([_, v]) => renderInline(v))\n        .filter(Boolean)\n        .join(\", \");\n    }\n\n    return String(val);\n  };\n\n  const renderList = (items) => (\n    <Box sx={{ display: \"flex\", flexDirection: \"column\", gap: 0.25 }}>\n      {items.map((item, i) => (\n        <Box key={i} sx={{ display: \"flex\", alignItems: \"flex-start\" }}>\n          <Box sx={{ width: 12, lineHeight: \"14px\" }}>•</Box>\n          <Box sx={{ flex: 1 }}>{item}</Box>\n        </Box>\n      ))}\n    </Box>\n  );\n\n  const renderValue = (val, forceList = false) => {\n    if (Array.isArray(val)) {\n      const items = val.map((v) => renderValue(v, false)).filter(Boolean);\n      return renderList(items);\n    }\n\n    if (typeof val === \"object\") {\n      const entries = Object.entries(val)\n        .filter(([k]) => !isSkippableKey(k))\n        .map(([k, v]) => {\n          const rendered = renderInline(v);\n          return rendered ? `${formatLabel(k)}: ${rendered}` : null;\n        })\n        .filter(Boolean);\n\n      if (entries.length === 1 && !forceList) return entries[0];\n      return renderList(entries);\n    }\n\n    return String(val);\n  };\n\n  return (\n    <Box sx={{ display: \"flex\", flexDirection: \"column\", gap: 0.5 }}>\n      {Object.entries(value).map(([key, val]) => {\n        const rendered = renderValue(val);\n        if (!rendered) return null;\n\n        return (\n          <Box key={key}>\n            <b>{formatLabel(key)}:</b> <Box component=\"span\">{rendered}</Box>\n          </Box>\n        );\n      })}\n    </Box>\n  );\n}\n\n// Humanize keys\nfunction formatLabel(key) {\n  return key\n    .replace(/([a-z])([A-Z])/g, \"$1 $2\")\n    .replace(/_/g, \" \")\n    .replace(/^./, (c) => c.toUpperCase());\n}\n","import { Box } from \"@mui/material\";\n\n/**\n * Renders Molecular Attributes in a flat, readable list.\n * - One bullet per attribute\n * - Prefers human-readable labels\n * - No nested bullets\n */\nexport default function MolecularAttributesCell({ value }) {\n  if (!value || typeof value !== \"object\") return \"-\";\n\n  const renderValue = (val) => {\n    if (!Array.isArray(val)) return null;\n\n    return val\n      .map((item) => {\n        if (item == null) return null;\n        if (typeof item === \"object\") {\n          return item.label || item.text || item.id || null;\n        }\n        return String(item);\n      })\n      .filter(Boolean)\n      .join(\", \");\n  };\n\n  const entries = Object.entries(value)\n    .map(([key, val]) => {\n      const rendered = renderValue(val);\n      if (!rendered) return null;\n      return `${formatLabel(key)}: ${rendered}`;\n    })\n    .filter(Boolean);\n\n  if (entries.length === 0) return \"-\";\n\n  return (\n    <Box sx={{ display: \"flex\", flexDirection: \"column\", gap: 0.25 }}>\n      {entries.map((entry, i) => (\n        <Box key={i} sx={{ display: \"flex\", alignItems: \"flex-start\" }}>\n          <Box sx={{ width: 12 }}>•</Box>\n          <Box sx={{ flex: 1 }}>\n            <b>{entry.split(\":\")[0]}:</b>\n            {entry.slice(entry.indexOf(\":\") + 1)}\n          </Box>\n        </Box>\n      ))}\n    </Box>\n  );\n}\n\n// Humanize keys\nfunction formatLabel(key) {\n  return key\n    .replace(/([a-z])([A-Z])/g, \"$1 $2\")\n    .replace(/_/g, \" \")\n    .replace(/^./, (c) => c.toUpperCase());\n}\n","import { Box } from \"@mui/material\";\n\n/**\n * Renderer for `variation`\n * - Structured, readable, schema-aware\n * - Bulleted top-level attributes\n * - Nested interval rendered inline\n */\nexport default function VariationCell({ value }) {\n  if (!value || typeof value !== \"object\") return \"-\";\n\n  const bullets = [];\n\n  // Location\n  if (value.location) {\n    const { type, sequence_id, interval } = value.location;\n\n    if (type) {\n      bullets.push(\n        <Line\n          key=\"location-type\"\n          label=\"Location type\"\n          value={humanize(type)}\n        />\n      );\n    }\n\n    if (sequence_id) {\n      bullets.push(\n        <Line key=\"sequence-id\" label=\"Sequence Id\" value={sequence_id} />\n      );\n    }\n\n    if (interval?.start?.value != null && interval?.end?.value != null) {\n      bullets.push(\n        <Box key=\"interval\">\n          <b>Sequence interval:</b>\n          <Box sx={{ pl: 2 }}>\n            Start: {interval.start.value}\n            <br />\n            End: {interval.end.value}\n          </Box>\n        </Box>\n      );\n    }\n  }\n\n  // Bases + type\n  if (value.alternateBases) {\n    bullets.push(\n      <Line key=\"alt\" label=\"Alternate bases\" value={value.alternateBases} />\n    );\n  }\n\n  if (value.referenceBases) {\n    bullets.push(\n      <Line key=\"ref\" label=\"Reference bases\" value={value.referenceBases} />\n    );\n  }\n\n  if (value.variantType) {\n    bullets.push(\n      <Line key=\"type\" label=\"Variant type\" value={value.variantType} />\n    );\n  }\n\n  return (\n    <Box sx={{ display: \"flex\", flexDirection: \"column\", gap: 0.25 }}>\n      {bullets.map((item, i) => (\n        <Box key={i} sx={{ display: \"flex\", alignItems: \"flex-start\" }}>\n          <Box sx={{ width: 12 }}>•</Box>\n          <Box sx={{ flex: 1 }}>{item}</Box>\n        </Box>\n      ))}\n    </Box>\n  );\n}\n\nfunction Line({ label, value }) {\n  return (\n    <Box>\n      <b>{label}:</b> {value}\n    </Box>\n  );\n}\n\nfunction humanize(value) {\n  return value.replace(/([a-z])([A-Z])/g, \"$1 $2\");\n}\n","import { Box } from \"@mui/material\";\nimport { truncateCaseLevelData } from \"../../utils/tableHelpers\";\n\nexport default function CaseLevelDataCell({ value }) {\n  if (!Array.isArray(value) || value.length === 0) return \"-\";\n\n  const formatted = value\n    .map((entry) => {\n      const sampleId = entry?.biosampleId;\n      const zygosity = entry?.zygosity?.label;\n      if (!sampleId || !zygosity) return null;\n      return `${sampleId}: ${zygosity}`;\n    })\n    .filter(Boolean);\n\n  if (formatted.length === 0) return \"-\";\n\n  const { entries, truncated } = truncateCaseLevelData(formatted, 20);\n\n  // Single value → inline\n  if (entries.length === 1) {\n    return <Box sx={{ whiteSpace: \"nowrap\" }}>{entries[0]}</Box>;\n  }\n\n  return (\n    <>\n      {/* 3-column layout */}\n      <Box\n        sx={{\n          display: \"flex\",\n          flexWrap: \"wrap\",\n          gap: \"6px 16px\",\n          fontSize: \"11px\",\n          width: \"100%\",\n        }}\n      >\n        {entries.map((entry, i) => (\n          <Box\n            key={i}\n            sx={{\n              whiteSpace: \"nowrap\",\n              flex: \"0 0 calc(33.333% - 16px)\",\n              lineHeight: 1.3,\n            }}\n          >\n            {entry}\n            {truncated && i === entries.length - 1 ? \" …\" : \"\"}\n          </Box>\n        ))}\n      </Box>\n\n      {/* Truncation message */}\n      {truncated && (\n        <Box sx={{ mt: 0.5, fontSize: \"11px\" }}>\n          <b>\n            List truncated for readability. Please download the dataset for the\n            complete set of case-level records at this position.\n          </b>\n        </Box>\n      )}\n    </>\n  );\n}\n","import {\n  useState,\n  Fragment,\n  useEffect,\n  useCallback,\n  useMemo,\n  useRef,\n} from \"react\";\nimport {\n  Box,\n  Paper,\n  Table,\n  TableBody,\n  TableCell,\n  TableContainer,\n  TableHead,\n  TableRow,\n  tableCellClasses,\n  Tooltip,\n} from \"@mui/material\";\nimport { styled } from \"@mui/material/styles\";\nimport config from \"../../../config/config.json\";\nimport ResultsTableModalRow from \"./ResultsTableModalRow\";\nimport { queryBuilder } from \"../../search/utils/queryBuilder\";\nimport ResultsTableToolbar from \"./ResultsTableToolbar\";\nimport { exportCSV } from \"../utils/exportCSV\";\nimport {\n  cleanAndParseInfo,\n  summarizeValue,\n  formatHeaderName,\n} from \"../utils/tableHelpers\";\nimport InterventionsOrProceduresCell from \"../modal/cellRenderers/InterventionsOrProceduresCell\";\nimport MeasuresCell from \"../modal/cellRenderers/MeasuresCell\";\nimport InfoCell from \"../modal/cellRenderers/InfoCell\";\nimport MolecularAttributesCell from \"../modal/cellRenderers/MolecularAttributesCell\";\nimport VariationCell from \"../modal/cellRenderers/VariationCell\";\nimport CaseLevelDataCell from \"../modal/cellRenderers/CaseLevelDataCell\";\n\n/**\n * Displays paginated results inside the modal.\n * Keeps full dataset in memory but renders only the current page slice.\n */\nconst ResultsTableModalBody = ({\n  dataTable,\n  entryTypeId,\n  selectedPathSegment,\n  beaconId,\n  datasetId,\n  displayedCount,\n  headers: providedHeaders = [],\n  visibleColumns,\n  setVisibleColumns,\n  page,\n  rowsPerPage,\n  setSearchTerm,\n  searchTerm,\n  setSearchCount,\n}) => {\n  const [expandedRow, setExpandedRow] = useState(null);\n  const [filteredData, setFilteredData] = useState([]);\n  const initialized = useRef(false);\n\n  const start = page * rowsPerPage;\n  const end = start + rowsPerPage;\n\n  useEffect(() => {\n    setFilteredData(dataTable);\n  }, [dataTable]);\n\n  const StyledTableCell = useMemo(\n    () =>\n      styled(TableCell)(({ theme }) => ({\n        [`&.${tableCellClasses.head}`]: {\n          backgroundColor: config.ui.colors.darkPrimary,\n          color: theme.palette.common.white,\n        },\n        [`&.${tableCellClasses.body}`]: { fontSize: 11 },\n        border: `1px solid ${config.ui.colors.darkPrimary}`,\n      })),\n    []\n  );\n\n  const StyledTableRow = useMemo(\n    () =>\n      styled(TableRow)(({ theme }) => ({\n        \"&:nth-of-type(odd)\": { backgroundColor: theme.palette.action.hover },\n        \"&:last-child td\": {\n          border: `1px solid ${config.ui.colors.darkPrimary}`,\n        },\n        \"&:last-child th\": { border: `1px solid white` },\n      })),\n    []\n  );\n\n  const headerCellStyle = useMemo(\n    () => ({\n      backgroundColor: config.ui.colors.darkPrimary,\n      fontWeight: 700,\n      color: \"white\",\n    }),\n    []\n  );\n\n  /** Build headers dynamically */\n  const headersArray = useMemo(() => {\n    const rawHeaders =\n      providedHeaders.length > 0\n        ? providedHeaders\n        : Array.from(\n            new Set(\n              dataTable.flatMap((obj) =>\n                obj && typeof obj === \"object\" ? Object.keys(obj) : []\n              )\n            )\n          );\n\n    const indexedHeaders = rawHeaders.map((header) => ({\n      id: header,\n      name:\n        header === \"identifiers\"\n          ? \"Genomic variation\"\n          : formatHeaderName(header),\n    }));\n\n    return indexedHeaders.filter((h) => h.id !== \"variantInternalId\");\n  }, [dataTable, providedHeaders]);\n\n  const sortedHeaders = useMemo(() => {\n    const primaryId =\n      headersArray.find((h) => h.id === \"id\")?.id ||\n      headersArray.find((h) => h.id === \"identifiers\")?.id;\n\n    if (!primaryId) return headersArray;\n    return [\n      ...headersArray.filter((h) => h.id === primaryId),\n      ...headersArray.filter((h) => h.id !== primaryId),\n    ];\n  }, [headersArray]);\n\n  /** Initialize visible columns once (no eslint disable, no re-runs) */\n  useEffect(() => {\n    if (\n      !initialized.current &&\n      sortedHeaders.length > 0 &&\n      visibleColumns.length === 0\n    ) {\n      setVisibleColumns(sortedHeaders.map((h) => h.id));\n      initialized.current = true;\n    }\n  }, [sortedHeaders, visibleColumns.length, setVisibleColumns]);\n\n  /** Filter data by search term */\n  useEffect(() => {\n    const filtered = dataTable.filter((item) => {\n      if (!searchTerm) return true;\n      const rowString = sortedHeaders\n        .map((h) => summarizeValue(item[h.id]))\n        .join(\" \")\n        .toLowerCase();\n      return rowString.includes(searchTerm.toLowerCase());\n    });\n\n    setFilteredData(filtered);\n\n    if (setSearchCount) {\n      setSearchCount(filtered.length);\n    }\n  }, [searchTerm, dataTable, sortedHeaders]);\n\n  /** Slice visible rows for current page */\n\n  const visibleRows = useMemo(\n    () => filteredData.slice(start, end),\n    [filteredData, start, end]\n  );\n\n  /** Export CSV */\n  const handleExport = useCallback(() => {\n    exportCSV({\n      dataTable,\n      sortedHeaders,\n      visibleColumns,\n      summarizeValue,\n      searchTerm,\n      entryTypeId,\n      selectedPathSegment,\n      queryBuilder,\n      datasetId,\n    });\n  }, [\n    dataTable,\n    sortedHeaders,\n    visibleColumns,\n    searchTerm,\n    entryTypeId,\n    selectedPathSegment,\n    datasetId,\n  ]);\n\n  const CELL_RENDERERS = {\n    interventionsOrProcedures: InterventionsOrProceduresCell,\n    measures: MeasuresCell,\n    info: InfoCell,\n    molecularAttributes: MolecularAttributesCell,\n    variation: VariationCell,\n    caseLevelData: CaseLevelDataCell,\n  };\n\n  /** Render table cell content */\n  const renderCellContent = useCallback((item, column) => {\n    const value = item[column];\n    if (!value) return \"-\";\n\n    if (\n      (column === \"phenotypicFeatures\" || column === \"exposures\") &&\n      Array.isArray(value)\n    ) {\n      return value\n        .map((entry) => {\n          if (typeof entry !== \"object\" || entry === null) return entry;\n\n          const parts = Object.entries(entry)\n            .map(([key, val]) => {\n              if (!val) return null;\n              if (typeof val === \"object\" && !Array.isArray(val)) {\n                if (val.iso8601duration)\n                  return `Age at exposure: ${val.iso8601duration}`;\n                if (val.label) return `${key}: ${val.label}`;\n                if (val.id) return `${key}: ${val.id}`;\n                const innerLabel =\n                  val.evidenceCode?.label ||\n                  val.featureType?.label ||\n                  val.exposureCode?.label ||\n                  val.onset?.label ||\n                  val.unit?.label ||\n                  val.severity?.label;\n                return innerLabel ? `${key}: ${innerLabel}` : null;\n              }\n              if (Array.isArray(val)) {\n                const labels = val\n                  .map((v) => v.label || v.id || null)\n                  .filter(Boolean);\n                return labels.length ? `${key}: ${labels.join(\", \")}` : null;\n              }\n              return typeof val === \"string\" || typeof val === \"number\"\n                ? `${key}: ${val}`\n                : null;\n            })\n            .filter(Boolean);\n          return parts.join(\", \");\n        })\n        .filter(Boolean)\n        .join(\" | \");\n    }\n\n    return summarizeValue(value);\n  }, []);\n\n  /** Render */\n  return (\n    <Box\n      sx={{\n        maxHeight: \"70vh\",\n        // overflow: \"hidden\",\n        display: \"flex\",\n        flexDirection: \"column\",\n      }}\n    >\n      {config.beaconType === \"networkBeacon\" && (\n        <Box\n          sx={{\n            color: config.ui.colors.darkPrimary,\n            fontSize: \"14px\",\n            display: \"flex\",\n            alignItems: \"flex-end\",\n            mt: \"auto\",\n            gap: \"6px\",\n          }}\n        >\n          Beacon: <b>{beaconId || \"—\"}</b>\n        </Box>\n      )}\n\n      <Box\n        sx={{\n          color: config.ui.colors.darkPrimary,\n          fontSize: \"14px\",\n          display: \"flex\",\n          alignItems: \"flex-end\",\n          mt: \"auto\",\n          gap: \"6px\",\n        }}\n      >\n        Dataset: <b>{datasetId || \"—\"}</b>\n      </Box>\n\n      <ResultsTableToolbar\n        visibleColumns={visibleColumns}\n        setVisibleColumns={setVisibleColumns}\n        searchTerm={searchTerm}\n        setSearchTerm={setSearchTerm}\n        handleExport={handleExport}\n        sortedHeaders={sortedHeaders}\n        count={displayedCount}\n      />\n\n      <Paper\n        sx={{\n          width: \"100%\",\n          flexGrow: 1,\n          // overflow: \"hidden\",\n          boxShadow: \"none\",\n          borderRadius: 0,\n          display: \"flex\",\n          flexDirection: \"column\",\n        }}\n      >\n        <TableContainer\n          sx={{\n            maxHeight: \"60vh\",\n            overflow: \"visible\",\n            // overflowY: \"auto\"\n          }}\n        >\n          <Table stickyHeader aria-label=\"Results table\">\n            <TableHead>\n              <StyledTableRow>\n                {sortedHeaders\n                  .filter((col) => visibleColumns.includes(col.id))\n                  .map((column) => (\n                    <TableCell key={column.id} sx={headerCellStyle}>\n                      <Box\n                        sx={{\n                          display: \"flex\",\n                          alignItems: \"center\",\n                          gap: \"6px\",\n                        }}\n                      >\n                        {column.name}\n                      </Box>\n                    </TableCell>\n                  ))}\n              </StyledTableRow>\n            </TableHead>\n            <TableBody>\n              {visibleRows.map((item, index) => {\n                // const isExpanded = expandedRow?.id === item.id;\n                const isExpanded =\n                  expandedRow !== null && expandedRow.id === item.id;\n\n                const parsedInfo = cleanAndParseInfo(item.info);\n                const id = `${item.id || `row_${index}`}${\n                  parsedInfo?.sampleID ? `_${parsedInfo.sampleID}` : \"\"\n                }`;\n\n                return (\n                  <Fragment key={id}>\n                    <StyledTableRow\n                      hover\n                      sx={{\n                        \"&.MuiTableRow-root\": {\n                          transition: \"background-color 0.2s ease\",\n                        },\n                        \"& td\": {\n                          borderBottom: \"1px solid rgba(224,224,224,1)\",\n                          py: 1.5,\n                        },\n                        fontWeight: \"bold\",\n                      }}\n                    >\n                      {sortedHeaders\n                        .filter((col) => visibleColumns.includes(col.id))\n                        .map((col) => (\n                          <StyledTableCell\n                            key={`${id}-${col.id}`}\n                            sx={{\n                              fontSize: \"11px\",\n                              whiteSpace: \"wrap\",\n                              overflowWrap: \"anywhere\",\n                              verticalAlign: \"top\",\n                            }}\n                            data-cy={\n                              col.id === \"identifiers\"\n                                ? \"variant-identifiers-cell\"\n                                : undefined\n                            }\n                            style={{\n                              width: col.width || \"auto\",\n                              maxWidth:\n                                col.id === \"variantInternalId\"\n                                  ? \"300px\"\n                                  : \"250px\",\n                            }}\n                          >\n                            {(() => {\n                              const Renderer = CELL_RENDERERS[col.id];\n                              return Renderer ? (\n                                <Renderer value={item[col.id]} />\n                              ) : (\n                                renderCellContent(item, col.id)\n                              );\n                            })()}\n                          </StyledTableCell>\n                        ))}\n                    </StyledTableRow>\n\n                    {isExpanded && (\n                      <ResultsTableModalRow\n                        key={`expanded-${id}`}\n                        item={expandedRow}\n                      />\n                    )}\n                  </Fragment>\n                );\n              })}\n            </TableBody>\n          </Table>\n        </TableContainer>\n      </Paper>\n    </Box>\n  );\n};\n\nexport default ResultsTableModalBody;\n","import config from \"../../../config/config.json\";\n\n/**\n * Exports either:\n * - All backend rows (if no search term)\n * - Or only visible filtered rows (if user searched)\n */\nexport const exportCSV = async ({\n  dataTable,\n  sortedHeaders,\n  visibleColumns,\n  summarizeValue,\n  searchTerm = \"\",\n  entryTypeId,\n  selectedPathSegment,\n  queryBuilder,\n  datasetId,\n}) => {\n  try {\n    let results = [];\n\n    // Case 1: user typed a search term: export only filtered rows\n    if (searchTerm.trim()) {\n      results = dataTable.filter((item) => {\n        const rowString = sortedHeaders\n          .map((h) => summarizeValue(item[h.id], h.id))\n          .join(\" \")\n          .toLowerCase();\n        return rowString.includes(searchTerm.toLowerCase());\n      });\n    }\n\n    // Case 2: no search: fetch everything from backend\n    else {\n      const fullQuery = queryBuilder([], entryTypeId);\n      fullQuery.query.pagination = { skip: 0, limit: 100 };\n\n      const fullUrl = `${config.apiUrl}/${selectedPathSegment}`;\n      const response = await fetch(fullUrl, {\n        method: \"POST\",\n        headers: { \"Content-Type\": \"application/json\" },\n        body: JSON.stringify(fullQuery),\n      });\n\n      if (!response.ok) {\n        console.error(\"Fetch failed with status:\", response.status);\n        alert(\"Failed to fetch data for export.\");\n        return;\n      }\n\n      const data = await response.json();\n      const resultSets = data?.response?.resultSets ?? [];\n      const selectedDataset = resultSets.find(\n        (r) => r.id === datasetId || r.dataset === datasetId\n      );\n\n      if (!selectedDataset) {\n        alert(`No dataset found for ID: ${datasetId}`);\n        return;\n      }\n      results = selectedDataset.results || [];\n    }\n\n    if (!results.length) {\n      alert(\"No data available to export.\");\n      return;\n    }\n\n    // Use only visible columns\n    const visibleHeaderObjects = sortedHeaders.filter((h) =>\n      visibleColumns.includes(h.id)\n    );\n    const headers = visibleHeaderObjects.map((h) => h.id);\n    const headerLabels = visibleHeaderObjects.map((h) => h.name);\n\n    // Build CSV\n    const csvRows = [\n      headerLabels.join(\",\"),\n      ...results.map((row) =>\n        headers\n          .map((field) => {\n            const value = summarizeValue(\n              row[field] !== undefined && row[field] !== null ? row[field] : \"\",\n              field\n            );\n\n            if (typeof value === \"string\") {\n              return `\"${value.replace(/\"/g, '\"\"')}\"`;\n            }\n\n            return value;\n          })\n          .join(\",\")\n      ),\n    ];\n    const csvContent = csvRows.join(\"\\n\");\n\n    // Create file\n    const blob = new Blob([csvContent], { type: \"text/csv;charset=utf-8;\" });\n    const url = URL.createObjectURL(blob);\n    const fileName = `beacon-${selectedPathSegment || \"results\"}-${\n      new Date().toISOString().split(\"T\")[0]\n    }.csv`;\n\n    const link = document.createElement(\"a\");\n    link.href = url;\n    link.setAttribute(\"download\", fileName);\n    document.body.appendChild(link);\n    link.click();\n    document.body.removeChild(link);\n    URL.revokeObjectURL(url);\n  } catch (err) {\n    console.error(\"CSV export failed:\", err);\n    alert(\"CSV export failed. Check the console for details.\");\n  }\n};\n","import { useState, useEffect } from \"react\";\nimport { Box, Typography, TablePagination } from \"@mui/material\";\nimport Modal from \"@mui/material/Modal\";\nimport Fade from \"@mui/material/Fade\";\nimport ResultsTableModalBody from \"./ResultsTableModalBody\";\nimport config from \"../../../config/config.json\";\nimport CloseIcon from \"@mui/icons-material/Close\";\nimport { IconButton } from \"@mui/material\";\nimport { useSelectedEntry } from \"../../context/SelectedEntryContext\";\nimport Loader from \"../../common/Loader\";\nimport { PATH_SEGMENT_TO_ENTRY_ID } from \"../../common/textFormatting\";\nimport { mockSingleBeaconResponse } from \"../../search/mockSingleBeaconResponse\";\n\n/**\n * Displays a modal containing a paginated results table for the selected dataset.\n * Fetches detailed records from the Beacon API using POST requests with pagination.\n */\nconst ResultsTableModal = ({\n  open,\n  subRow,\n  onClose,\n  beaconId,\n  datasetId,\n  headers,\n}) => {\n  const { selectedPathSegment, selectedFilter, responseMeta } =\n    useSelectedEntry();\n\n  const [page, setPage] = useState(0);\n  const [totalPages, setTotalPages] = useState(0);\n  const [totalItems, setTotalItems] = useState(0);\n  const [loading, setLoading] = useState(false);\n  const [rowsPerPage, setRowsPerPage] = useState(5);\n  const [dataTable, setDataTable] = useState([]);\n  const [searchTerm, setSearchTerm] = useState(\"\");\n  const [url, setUrl] = useState(\"\");\n  const [visibleColumns, setVisibleColumns] = useState([]);\n  const [searchCount, setSearchCount] = useState(null);\n  const entryTypeId = PATH_SEGMENT_TO_ENTRY_ID[selectedPathSegment];\n\n  const limit = responseMeta?.receivedRequestSummary?.pagination?.limit;\n\n  useEffect(() => {\n    if (headers && headers.length > 0 && visibleColumns.length === 0) {\n      setVisibleColumns(headers);\n    }\n  }, [headers, visibleColumns.length]);\n\n  const style = {\n    position: \"absolute\",\n    top: \"50%\",\n    left: \"50%\",\n    transform: \"translate(-50%, -50%)\",\n    width: \"90%\",\n    maxWidth: \"1200px\",\n    height: \"80vh\",\n    bgcolor: \"background.paper\",\n    borderRadius: 2,\n    boxShadow: 24,\n    display: \"flex\",\n    flexDirection: \"column\",\n    overflow: \"hidden\",\n    // overflow: \"hidden\",\n    // overflowY: \"auto\",\n    p: 4,\n  };\n\n  const handleChangePage = (event, newPage) => {\n    setPage(newPage);\n  };\n\n  const handleChangeRowsPerPage = (event) => {\n    const newLimit = parseInt(event.target.value, 10);\n    setRowsPerPage(newLimit);\n    setPage(0);\n  };\n\n  const handleClose = () => {\n    setSearchTerm(\"\");\n    setPage(0);\n    setTotalPages(0);\n    setTotalItems(0);\n    setDataTable([]);\n    onClose();\n  };\n\n  // Builds the Beacon query with pagination\n  const queryBuilder = (page, entryTypeId) => {\n    const skipItems = page * rowsPerPage;\n    const filter = {\n      meta: { apiVersion: \"2.0\" },\n      query: {\n        filters: [],\n        requestParameters: {},\n        includeResultsetResponses: \"HIT\",\n        pagination: { skip: 0, limit: 100 },\n        testMode: false,\n        requestedGranularity: \"record\",\n      },\n    };\n\n    // Add filters if present\n    if (selectedFilter.length > 0) {\n      selectedFilter.forEach((item) => {\n        if (item.queryParams) {\n          filter.query.requestParameters = {\n            ...filter.query.requestParameters,\n            ...item.queryParams,\n          };\n        } else if (item.operator) {\n          filter.query.filters.push({\n            id: item.id,\n            operator: item.operator,\n            value: item.value,\n          });\n        } else {\n          filter.query.filters.push({\n            id: item.id,\n            ...(item.scope ? { scope: item.scope } : {}),\n          });\n        }\n      });\n    }\n\n    if (\n      !filter.query.requestParameters ||\n      Object.keys(filter.query.requestParameters).length === 0\n    ) {\n      delete filter.query.requestParameters;\n    }\n\n    if (filter.query.filters.length === 0) {\n      delete filter.query.filters;\n    }\n\n    return filter;\n  };\n\n  useEffect(() => {\n    if (!open) return;\n    let active = true;\n\n    // Use preloaded data if available (first open only)\n    if (page === 0 && subRow?.dataTable?.length > 0) {\n      setDataTable(subRow.dataTable);\n      setTotalItems(subRow.dataTable.length);\n      setTotalPages(Math.ceil(subRow.dataTable.length / rowsPerPage));\n      setLoading(false);\n      return; // Skip fetchTableItems for this case\n    }\n\n    const fetchTableItems = async () => {\n      if (subRow?.dataTable?.length > 0) return;\n      try {\n        setLoading(true);\n        const url = `${config.apiUrl}/${selectedPathSegment}`;\n        setUrl(url);\n\n        // Always use POST with pagination, even if no filters\n        const query = queryBuilder(page, entryTypeId);\n        const response = await fetch(url, {\n          method: \"POST\",\n          headers: { \"Content-Type\": \"application/json\" },\n          body: JSON.stringify(query),\n        });\n\n        const data = await response.json();\n        // const data = mockSingleBeaconResponse;\n\n        if (!active) return;\n\n        const results = data.response?.resultSets;\n\n        if (!results?.length) return;\n\n        // Try to match the correct beacon by ID; otherwise, use the first\n        let beacon = results.find((item) => {\n          const id = subRow.beaconId || subRow.id;\n          const itemId = item.beaconId || item.id;\n          return id === itemId;\n        });\n        if (!beacon) beacon = results[0];\n\n        if (!beacon?.results) return;\n\n        const totalDatasetsPages = Math.ceil(beacon.resultsCount / rowsPerPage);\n        setTotalItems(beacon.resultsCount);\n\n        setTotalPages(totalDatasetsPages);\n        setDataTable(beacon.results);\n      } catch (err) {\n        console.error(\"Failed to fetch modal table:\", err);\n      } finally {\n        setLoading(false);\n      }\n    };\n\n    fetchTableItems();\n    return () => {\n      active = false;\n    };\n  }, [open, subRow, page, rowsPerPage]);\n\n  useEffect(() => {\n    setPage(0);\n  }, [searchTerm]);\n\n  return (\n    <Modal open={open} onClose={handleClose}>\n      <Fade in={open}>\n        <Box sx={style}>\n          {/* Header: title (left) + close button (right) */}\n          <Box\n            sx={{\n              display: \"flex\",\n              alignItems: \"center\",\n              justifyContent: \"space-between\",\n              mb: 2,\n            }}\n          >\n            <Typography\n              id=\"modal-modal-title\"\n              sx={{\n                fontWeight: \"bold\",\n                fontSize: \"17px\",\n                color: config.ui.colors.darkPrimary,\n              }}\n            >\n              Results detailed table\n            </Typography>\n\n            <IconButton\n              onClick={handleClose}\n              size=\"small\"\n              sx={{ color: config.ui.colors.darkPrimary }}\n            >\n              <CloseIcon fontSize=\"small\" />\n            </IconButton>\n          </Box>\n\n          {/* Scrollable Table with the details results */}\n          <Box\n            sx={{\n              flex: 1,\n              overflowY: \"auto\",\n              minHeight: 0,\n              pr: 1,\n            }}\n          >\n            {loading && <Loader message=\"Loading data...\" />}\n\n            {!loading && dataTable.length > 0 && (\n              <ResultsTableModalBody\n                dataTable={dataTable}\n                totalItems={totalItems}\n                page={page}\n                rowsPerPage={rowsPerPage}\n                totalPages={totalPages}\n                handleChangePage={handleChangePage}\n                handleChangeRowsPerPage={handleChangeRowsPerPage}\n                primary={config.ui.colors.primary}\n                entryTypeId={entryTypeId}\n                selectedPathSegment={selectedPathSegment}\n                beaconId={beaconId}\n                datasetId={datasetId}\n                displayedCount={subRow?.displayedCount || 0}\n                actualLoadedCount={subRow?.actualLoadedCount || 0}\n                headers={headers}\n                visibleColumns={visibleColumns}\n                setVisibleColumns={setVisibleColumns}\n                searchTerm={searchTerm}\n                setSearchTerm={setSearchTerm}\n                setSearchCount={setSearchCount}\n              />\n            )}\n          </Box>\n\n          {/* Fixed Pagination at the bottom of the modal */}\n          <Box\n            sx={{\n              display: \"flex\",\n              justifyContent: \"flex-end\",\n              mt: 1,\n            }}\n          >\n            <TablePagination\n              component=\"div\"\n              count={searchTerm ? searchCount ?? 0 : totalItems}\n              page={page}\n              onPageChange={handleChangePage}\n              rowsPerPage={rowsPerPage}\n              onRowsPerPageChange={handleChangeRowsPerPage}\n              rowsPerPageOptions={[5, 10, 20]}\n              showFirstButton\n              showLastButton\n            />\n          </Box>\n        </Box>\n      </Fade>\n    </Modal>\n  );\n};\n\nexport default ResultsTableModal;\n"],"names":["_ref","item","itemRow","results","_jsx","TableRow","children","TableCell","colSpan","sx","backgroundColor","borderTop","borderColor","p","Box","Typography","variant","color","description","id","ListItemTextRoot","styled","name","slot","overridesResolver","props","styles","ownerState","listItemTextClasses","primary","secondary","root","inset","multiline","dense","flex","minWidth","marginTop","marginBottom","typographyClasses","display","variants","style","_ref2","paddingLeft","React","inProps","ref","useDefaultProps","className","disableTypography","primaryProp","primaryTypographyProps","secondaryProp","secondaryTypographyProps","slots","slotProps","other","ListContext","classes","composeClasses","getListItemTextUtilityClass","useUtilityClasses","externalForwardedProps","RootSlot","rootSlotProps","useSlot","clsx","elementType","PrimarySlot","primarySlotProps","SecondarySlot","secondarySlotProps","type","component","undefined","_jsxs","createSvgIcon","d","_g","_defs","_extends","Object","assign","bind","n","e","arguments","length","t","r","hasOwnProperty","call","apply","SvgSelectColumn","svgRef","title","titleId","width","height","viewBox","fill","xmlns","clipPath","stroke","strokeWidth","strokeLinecap","strokeLinejoin","transform","ForwardRef","ResultsTableToolbar","_responseMeta$receive","_responseMeta$receive2","visibleColumns","setVisibleColumns","searchTerm","setSearchTerm","sortedHeaders","count","handleExport","responseMeta","useSelectedEntry","colors","config","ui","limit","receivedRequestSummary","pagination","justifyContent","alignItems","my","flexDirection","xs","md","gap","darkPrimary","fontSize","mt","Intl","NumberFormat","navigator","language","format","sm","lg","FormControl","size","Select","multiple","displayEmpty","value","onChange","target","renderValue","SelectColumn","opacity","borderRadius","py","IconComponent","KeyboardArrowDownRoundedIcon","map","col","MenuItem","Checkbox","checked","indexOf","ListItemText","TextField","placeholder","InputProps","startAdornment","InputAdornment","position","SearchRoundedIcon","Button","px","marginLeft","marginRight","onClick","startIcon","DownloadRoundedIcon","formatMolecularAttributes","lines","entries","key","val","rendered","Array","isArray","items","label","text","String","filter","Boolean","join","replace","c","toUpperCase","formatLabel","summarizeValue","field","measure","_measure$assayCode","_measure$measurementV","_measure$measurementV2","_measure$measurementV3","assayCode","rawValue","measurementValue","unitLabel","unit","date","toFixed","formatMeasures","isSkippableKey","toLowerCase","includes","renderInline","k","v","_ref3","_ref4","_ref5","formatInfo","labels","entry","_entry$procedureCode","procedureCode","formatInterventionsOrProcedures","location","_interval$start","_interval$end","sequence_id","interval","push","humanize","start","end","alternateBases","referenceBases","variantType","formatVariation","_entry$zygosity","sampleId","biosampleId","zygosity","formatCaseLevelData","el","nestedValues","values","formatHeaderName","header","withSpaces","charAt","slice","InterventionsOrProceduresCell","pl","m","idx","MeasuresCell","formatMeasure","roundedValue","_Fragment","listStyleType","listStylePosition","index","content","InfoCell","_","renderList","i","lineHeight","forceList","_ref6","MolecularAttributesCell","split","VariationCell","bullets","Line","CaseLevelDataCell","formatted","truncated","total","truncateCaseLevelData","whiteSpace","flexWrap","dataTable","entryTypeId","selectedPathSegment","beaconId","datasetId","displayedCount","headers","providedHeaders","page","rowsPerPage","setSearchCount","expandedRow","setExpandedRow","useState","filteredData","setFilteredData","initialized","useRef","useEffect","StyledTableCell","useMemo","theme","tableCellClasses","head","palette","common","white","body","border","StyledTableRow","action","hover","headerCellStyle","fontWeight","headersArray","from","Set","flatMap","obj","keys","h","_headersArray$find","_headersArray$find2","primaryId","find","current","filtered","visibleRows","useCallback","async","queryBuilder","trim","_data$response$result","_data$response","fullQuery","query","skip","fullUrl","apiUrl","response","fetch","method","JSON","stringify","ok","console","error","status","alert","data","json","selectedDataset","resultSets","dataset","visibleHeaderObjects","csvContent","row","blob","Blob","url","URL","createObjectURL","fileName","Date","toISOString","link","document","createElement","href","setAttribute","appendChild","click","removeChild","revokeObjectURL","err","exportCSV","CELL_RENDERERS","interventionsOrProcedures","measures","info","molecularAttributes","variation","caseLevelData","renderCellContent","column","_val$evidenceCode","_val$featureType","_val$exposureCode","_val$onset","_val$unit","_val$severity","iso8601duration","innerLabel","evidenceCode","featureType","exposureCode","onset","severity","maxHeight","beaconType","Paper","flexGrow","boxShadow","TableContainer","overflow","Table","stickyHeader","TableHead","TableBody","isExpanded","parsedInfo","infoString","cleaned","parse","cleanAndParseInfo","sampleID","Fragment","transition","borderBottom","overflowWrap","verticalAlign","maxWidth","Renderer","ResultsTableModalRow","open","subRow","onClose","selectedFilter","setPage","totalPages","setTotalPages","totalItems","setTotalItems","loading","setLoading","setRowsPerPage","setDataTable","setUrl","searchCount","PATH_SEGMENT_TO_ENTRY_ID","handleChangePage","event","newPage","handleChangeRowsPerPage","newLimit","parseInt","handleClose","_subRow$dataTable","active","Math","ceil","_subRow$dataTable2","_beacon","meta","apiVersion","filters","requestParameters","includeResultsetResponses","testMode","requestedGranularity","forEach","queryParams","operator","scope","beacon","totalDatasetsPages","resultsCount","fetchTableItems","Modal","Fade","in","top","left","bgcolor","mb","IconButton","CloseIcon","overflowY","minHeight","pr","Loader","message","ResultsTableModalBody","actualLoadedCount","TablePagination","onPageChange","onRowsPerPageChange","rowsPerPageOptions","showFirstButton","showLastButton"],"sourceRoot":""}